<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>The Most Underestimated Keyword In Java | Developer Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/css/highlight.css">

  
  <meta name="description" content="Imagine yourself riding a bicycle where all the screw-nuts are loosened. Everything is rattling and the bike is ready to fall apart. This is exactly how it feels to maintain code when this essential k">
<meta property="og:type" content="article">
<meta property="og:title" content="The Most Underestimated Keyword In Java">
<meta property="og:url" content="https://yaskovdev.com/2017/11/13/the-most-underestimated-keyword-in-java/index.html">
<meta property="og:site_name" content="Developer Notes">
<meta property="og:description" content="Imagine yourself riding a bicycle where all the screw-nuts are loosened. Everything is rattling and the bike is ready to fall apart. This is exactly how it feels to maintain code when this essential k">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://yaskovdev.com/2017/11/13/the-most-underestimated-keyword-in-java/broken-bike.jpg">
<meta property="article:published_time" content="2017-11-13T18:00:00.000Z">
<meta property="article:modified_time" content="2024-11-28T23:43:52.720Z">
<meta property="article:author" content="Sergey Yaskov">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yaskovdev.com/2017/11/13/the-most-underestimated-keyword-in-java/broken-bike.jpg"><meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="wrapper">
    <header id="header">
  <h1 id="title">
    <a href="/">Developer Notes</a>
  </h1>
  <nav>
    
    
      
      <a class="nav-link" href="/">Home</a>
    
      
        <span class="nav-spacer">×</span>
      
      <a class="nav-link" href="/subscribe">Subscribe</a>
    
    
  </nav>
</header>

    <div id="content">
      <article id="post-the-most-underestimated-keyword-in-java" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="headline name">
      The Most Underestimated Keyword In Java
    </h2>
  


        <div class="article-meta">
          
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <p>Imagine yourself riding a bicycle where all the screw-nuts are loosened. Everything is rattling and the bike is ready to fall apart. This is exactly how it feels to maintain code when this essential keyword we are going to discuss is not used or is used only sparingly for some class fields and constants.</p>
<img src="/2017/11/13/the-most-underestimated-keyword-in-java/broken-bike.jpg" class="" title="Broken Bike">

<h3 id="Always-Use-final"><a href="#Always-Use-final" class="headerlink" title="Always Use final"></a>Always Use <code>final</code></h3><p>Literally, <em>always</em>. For constants and class fields, for method parameters, for declarations of exceptions in catch blocks, and for resource declaration in try-with-resources. In short, whenever and wherever possible. Including parameters of methods without a body (abstract methods and methods of an interface), to be consistent.</p>
<p>Even developers who understand why <code>final</code> has to be used for constants and for class fields sometimes wonder why should we use it in all other cases (for example, for method parameters). Let’s try to explain the reasons.</p>
<h3 id="Benefits-Of-Using-final"><a href="#Benefits-Of-Using-final" class="headerlink" title="Benefits Of Using final"></a>Benefits Of Using <code>final</code></h3><ol>
<li><p><em>It makes your code more maintainable</em>: For any method, you can be sure that its <code>final</code> parameters always have the same values that you passed.</p>
</li>
<li><p><em>It makes your code more readable</em>: After some time of using <code>final</code>, you will notice that it is easier to spot where the method variables are declared because all such declarations start with the <code>final</code> keyword. The method does not look like a wall of text anymore. Try it yourself and you will see the difference.</p>
</li>
<li><p>And the most important one: <em><strong>it forces you to think harder, and you will write better code</strong></em>. It prevents you from producing crappy code in many different ways.</p>
</li>
</ol>
<p>As a simple example, it does not allow to produce methods like this (I cannot count how many of these I’ve seen in the legacy code!):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (success) &#123;</span><br><span class="line">    result = <span class="string">&quot;some string&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>
<p>If you are forced to use <code>final</code>, you have to rewrite it as:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (success) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;some string&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<p>Already better, isn’t it? And, who knows, maybe you will now notice <code>return null</code> and remember that it is undesirable and you should throw an exception instead?</p>
<h3 id="“Yes-But-It-Pollutes-My-Code-”"><a href="#“Yes-But-It-Pollutes-My-Code-”" class="headerlink" title="“Yes, But It Pollutes My Code!”"></a>“Yes, But It Pollutes My Code!”</h3><p>Think about it this way. Different languages use different ways to declare variables. Scala has <code>val</code>, modern JavaScript has <code>const</code>, Java has… <code>final</code>. Does <code>const</code> pollute the code? If not, then how does <code>final</code> pollute it? What is the difference? Note that even the number of letters in these two keywords is the same!</p>
<h3 id="“Yes-But-It-May-Reduce-Performance-”"><a href="#“Yes-But-It-May-Reduce-Performance-”" class="headerlink" title="“Yes, But It May Reduce Performance!”"></a>“Yes, But It May Reduce Performance!”</h3><p>Yep, I’ve even heard this one once. The only explanation which comes to my mind is that some developers confuse the semantics of <code>final</code> and <code>volatile</code>. This objection is just wrong. Moreover, <code>final</code> is erased in compile time for local parameters and variables, i.e., they do not appear in the .class file. You can check it yourself using a decompiler.</p>
<h3 id="“I-Am-Still-Not-Convinced”"><a href="#“I-Am-Still-Not-Convinced”" class="headerlink" title="“I Am Still Not Convinced”"></a>“I Am Still Not Convinced”</h3><p>This was one disappointed comment left during a code review: “all variables are final…”</p>
<p>What should I recommend to this person? Start using it when writing Java code! Or try to write in Scala for some time and then switch back to plain old Java. The shift will happen in your way of thinking, and you will see how useful the <code>final</code> keyword is, and how it makes the code more readable and maintainable.</p>
<h3 id="To-Summarize"><a href="#To-Summarize" class="headerlink" title="To Summarize"></a>To Summarize</h3><p><code>final</code> is your friend. It should be used everywhere. If you have a variable declaration which does not compile when you declare it <code>final</code>, it is a clear sign that you are doing something wrong and your code has to be refactored.</p>

      
    </div>
    
    
    <div class="article-category">
      
        <b>Categories:</b>
        <a class="article-category-link" href="/categories/code/">code</a>, <a class="article-category-link" href="/categories/code/java/">java</a>
      
      
      
    </div>
    
    
  </div>
</article>

  
<nav id="article-nav" class="article-nav">
  
    <a href="/2017/11/27/shape-of-your-unit-tests-says-a-lot-about-their-quality/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          The Shape Of Your Unit Tests Says A Lot About Their Quality
        
      </div>
    </a>
  
  
    <a href="/2017/10/30/utc-a-time-standard-or-a-time-zone/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">
        
          UTC – A Time Standard Or A Time Zone?
        
      </div>
    </a>
  
</nav>





    <div id="disqus_thread"></div>
    <script>
        /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
        /*
        var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        */
        (function() { // DON'T EDIT BELOW THIS LINE
            var disqusShortname = 'yaskovdev';
            var d = document, s = d.createElement('script');
            s.src = 'https://' + disqusShortname + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



    </div>
  </div>
  




<div id="settings-container">
  <div id="dark-mode">dark</div>
  <div id="sans-font">sans</div>
</div>
<script type="text/javascript">
let d=document,r=d.documentElement.style,f=r.setProperty.bind(r),l=localStorage,s=l.getItem('s')||(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches),n=l.getItem('n'),m=d.getElementById("dark-mode"),b=()=>{f('--bg-color','#fafafa');f('--code-bg-color','#f4f4f4');f('--text-color','#212121');f('--secondary-color','#808080');f('--tertiary-color','#b0b0b0');f('--link-color','#b5c8cf');f('--link-hover-color','#618794');f('--link-bg-color','#dae4e7');f('--selection-color','#dae4e7');m.innerHTML="dark"},c=()=>{f('--bg-color','#212121');f('--code-bg-color','#292929');f('--text-color','#fff');f('--secondary-color','#c0c0c0');f('--tertiary-color','#6e6e6e');f('--link-color','#4d6b75');f('--link-hover-color','#96b1bb');f('--link-bg-color','#5d828e');f('--selection-color','#acc1c9');m.innerHTML="light"},o=d.getElementById("sans-font"),e=()=>{f('--body-stack','"Lora", "Georgia", "Times New Roman", serif');o.innerHTML="sans"},g=()=>{f('--body-stack','"Lato", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", "Verdana", sans-serif');o.innerHTML="serif"};m.onclick=()=>{if(s==2){s=1;l.setItem('s',s);c()}else{s=2;l.setItem('s',s);b()}};o.onclick=()=>{if(n==2){n=1;l.setItem('n',n);g()}else{n=2;l.setItem('n',n);e()}};if(!s){s=2;l.setItem('s',2)};if(s==1){c()};if(!n){n=2;l.setItem('n',2)};if(n==1){g()};
</script>




</body>
</html>
